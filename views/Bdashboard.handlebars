<!-- Loop over each object in the posts array -->
<h1 class="title is-1 is-lightr">My Posts</h1>
{{#each posts as |post|}}
<div class="card m-3">
    <header class="card-header">
      <p class="card-header-title">
        <a href="/post/{{post.id}}">{{post.title}} </a>
      </p>
      <button class="delete is-large"  aria-label="more options">
        <span class="icon">
          <i class="fas fa-angle-down" aria-hidden="true"></i>
        </span>
      </button>
    </header>
    <div class="card-content">
      <div class="content">
        {{post.content}}
        
        <br>

        {{!-- Hidden inputs for Delete --}}
        <form class="box" id="{{post.id}}"></form>
         <input 
          type="hidden"
          class="form-control"
          id="user_id"
          value="{{user_id}}"
        />
        <input
          type="hidden"
          class="form-control"
          id="post_id"
          value="{{post.id}}"
        />
    <button type="button" id="post-delete" class="button is-medium is-danger is-light">DELETE</button>

        {{!-- Posted by {{post.user.name}} --}}
        <br>
        <time datetime="2016-1-1">{{format_date post.date_created}}</time>
      </div>
    </div>

    <footer class="card-footer">
       {{!-- Added comments --}}
      {{#if post.comments.length}} 
     <div class="card-content">
      <p class="card-header-title">Comments:</p>
       {{#each post.comments as |comment|}}
      <div class="content">
        {{comment.content}}
        
        <br>
        Posted by {{comment.user.name}}
        <br>
        <time datetime="2016-1-1">{{format_date comment.date_created}}</time>
      </div>
      {{/each}}
      </div>
     {{/if}}
    </footer>
    
</div>
{{/each}}

<script src="../js/updatepost.js"></script>